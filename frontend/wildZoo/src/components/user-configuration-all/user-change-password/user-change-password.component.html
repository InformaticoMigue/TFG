<div class="flex flex-col gap-20">
  <h1 class="text-3xl text-center">Cambiar contraseña</h1>
  <form [formGroup]="formChangePassword" class="flex w-full flex-col max-normal:px-10 justify-center items-center mx-auto">
    <mat-form-field appearance="outline" class="w-1/3 max-normal:w-full">
      <mat-label>Contraseña actual</mat-label>
      <input matInput type="password" formControlName="currentPassword">
      <mat-error *ngIf="formChangePassword.get('currentPassword')?.errors?.['required']">
        La contraseña actual es obligatoria.
      </mat-error>
    </mat-form-field>

    <mat-form-field appearance="outline" class="w-1/3 max-normal:w-full">
      <mat-label>Nueva contraseña</mat-label>
      <input matInput type="password" formControlName="newPassword">
      <mat-error *ngIf="formChangePassword.get('newPassword')?.errors?.['required']">
        La nueva contraseña es obligatoria.
      </mat-error>
      <mat-error [ngClass]="formChangePassword.get('newPassword')?.errors?.['pattern'] ? 'block' : ''"
        *ngIf="formChangePassword.get('newPassword')?.errors?.['pattern']">
        La contraseña debe tener al menos 8 caracteres, incluyendo una mayúscula, una minúscula y un número.
      </mat-error>
    </mat-form-field>

    <mat-form-field appearance="outline" class="w-1/3 max-normal:w-full">
      <mat-label>Confirmar contraseña</mat-label>
      <input matInput type="password" formControlName="confirmPassword">
      <mat-error *ngIf="formChangePassword.get('confirmPassword')?.errors?.['required']">
        Confirmar la contraseña es obligatorio.
      </mat-error>
      <mat-error *ngIf="formChangePassword.get('confirmPassword')?.errors?.['mustMatch']">
        Las contraseñas no coinciden.
      </mat-error>
    </mat-form-field>

    <div class="w-full flex justify-center">
      <button [ngClass]="!formChangePassword.invalid ? 'transition-all duration-500 hover:bg-primary' : ''"
        class="disabled:text-gray-400 disabled:border-primary disabled:border w-32 h-14" (click)="onChangePassword()"
        [disabled]="formChangePassword.invalid">Guardar</button>
    </div>
  </form>

</div>